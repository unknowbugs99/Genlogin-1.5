import{r as j,bG as x,bH as C,w as E,bI as G,Z as A}from"./index.6e57c2f1.js";var P;const p=typeof window<"u",M=e=>typeof e=="string",b=()=>{};p&&((P=window==null?void 0:window.navigator)==null?void 0:P.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function U(e,t){function r(...n){e(()=>t.apply(this,n),{fn:t,thisArg:this,args:n})}return r}const T=e=>e();function V(e=T){const t=j(!0);function r(){t.value=!1}function n(){t.value=!0}return{isActive:t,pause:r,resume:n,eventFilter:(...i)=>{t.value&&e(...i)}}}function K(e){return x()?(C(e),!0):!1}var N=Object.getOwnPropertySymbols,Z=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable,B=(e,t)=>{var r={};for(var n in e)Z.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&N)for(var n of N(e))t.indexOf(n)<0&&q.call(e,n)&&(r[n]=e[n]);return r};function Q(e,t,r={}){const n=r,{eventFilter:a=T}=n,i=B(n,["eventFilter"]);return E(e,U(a,t),i)}var X=Object.defineProperty,Y=Object.defineProperties,k=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,W=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable,F=(e,t,r)=>t in e?X(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ee=(e,t)=>{for(var r in t||(t={}))W.call(t,r)&&F(e,r,t[r]);if(v)for(var r of v(t))D.call(t,r)&&F(e,r,t[r]);return e},te=(e,t)=>Y(e,k(t)),re=(e,t)=>{var r={};for(var n in e)W.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&v)for(var n of v(e))t.indexOf(n)<0&&D.call(e,n)&&(r[n]=e[n]);return r};function ne(e,t,r={}){const n=r,{eventFilter:a}=n,i=re(n,["eventFilter"]),{eventFilter:f,pause:u,resume:l,isActive:g}=V(a);return{stop:Q(e,t,te(ee({},i),{eventFilter:f})),pause:u,resume:l,isActive:g}}function oe(e){var t;const r=A(e);return(t=r==null?void 0:r.$el)!=null?t:r}const w=p?window:void 0;p&&window.document;p&&window.navigator;p&&window.location;function ae(...e){let t,r,n,a;if(M(e[0])?([r,n,a]=e,t=w):[t,r,n,a]=e,!t)return b;let i=b;const f=E(()=>oe(t),l=>{i(),l&&(l.addEventListener(r,n,a),i=()=>{l.removeEventListener(r,n,a),i=b})},{immediate:!0,flush:"post"}),u=()=>{f(),i()};return K(u),u}const m=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},S="__vueuse_ssr_handlers__";m[S]=m[S]||{};const ie=m[S];function se(e,t){return ie[e]||t}function le(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"||Array.isArray(e)?"object":Number.isNaN(e)?"any":"number"}const ue={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}};function fe(e,t,r,n={}){var a;const{flush:i="pre",deep:f=!0,listenToStorageChanges:u=!0,writeDefaults:l=!0,shallow:g,window:y=w,eventFilter:J,onError:_=o=>{console.error(o)}}=n,c=(g?G:j)(t);if(!r)try{r=se("getDefaultStorage",()=>{var o;return(o=w)==null?void 0:o.localStorage})()}catch(o){_(o)}if(!r)return c;const d=A(t),L=le(d),O=(a=n.serializer)!=null?a:ue[L],{pause:R,resume:I}=ne(c,()=>z(c.value),{flush:i,deep:f,eventFilter:J});return y&&u&&ae(y,"storage",h),h(),c;function z(o){try{o==null?r.removeItem(e):r.setItem(e,O.write(o))}catch(s){_(s)}}function H(o){if(!(o&&o.key!==e)){R();try{const s=o?o.newValue:r.getItem(e);return s==null?(l&&d!==null&&r.setItem(e,O.write(d)),d):typeof s!="string"?s:O.read(s)}catch(s){_(s)}finally{I()}}}function h(o){o&&o.key!==e||(c.value=H(o))}}function pe(e,t,r={}){const{window:n=w}=r;return fe(e,t,n==null?void 0:n.localStorage,r)}var $;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})($||($={}));export{fe as a,pe as u};
