import{x as be,bF as Ce,as as C,a as ve,A as K,f as A,Q as T,b as $,k as Z,c as pe,d as ye,r as ke,u as me,C as xe,E as Se,at as Pe,j as D,s as w,l as Ie,t as U,p as V,h as L,av as we,G as Ee}from"./index.6e57c2f1.js";function lr(e,o){let{target:r}=e;for(;r;){if(r.dataset&&r.dataset[o]!==void 0)return!0;r=r.parentElement}return!1}function sr(e){switch(typeof e){case"string":return e||void 0;case"number":return String(e);default:return}}function q(e){return Array.isArray(e)?e:[e]}const _={STOP:"STOP"};function J(e,o){const r=o(e);e.children!==void 0&&r!==_.STOP&&e.children.forEach(t=>J(t,o))}function Ke(e,o={}){const{preserveGroup:r=!1}=o,t=[],l=r?n=>{n.isLeaf||(t.push(n.key),c(n.children))}:n=>{n.isLeaf||(n.isGroup||t.push(n.key),c(n.children))};function c(n){n.forEach(l)}return c(e),t}function Ne(e,o){const{isLeaf:r}=e;return r!==void 0?r:!o(e)}function ze(e){return e.children}function Ae(e){return e.key}function Le(){return!1}function Te(e,o){const{isLeaf:r}=e;return!(r===!1&&!Array.isArray(o(e)))}function $e(e){return e.disabled===!0}function He(e,o){return e.isLeaf===!1&&!Array.isArray(o(e))}function R(e){var o;return e==null?[]:Array.isArray(e)?e:(o=e.checkedKeys)!==null&&o!==void 0?o:[]}function G(e){var o;return e==null||Array.isArray(e)?[]:(o=e.indeterminateKeys)!==null&&o!==void 0?o:[]}function Be(e,o){const r=new Set(e);return o.forEach(t=>{r.has(t)||r.add(t)}),Array.from(r)}function Me(e,o){const r=new Set(e);return o.forEach(t=>{r.has(t)&&r.delete(t)}),Array.from(r)}function Re(e){return(e==null?void 0:e.type)==="group"}function ar(e){const o=new Map;return e.forEach((r,t)=>{o.set(r.key,t)}),r=>{var t;return(t=o.get(r))!==null&&t!==void 0?t:null}}class Ge extends Error{constructor(){super(),this.message="SubtreeNotLoadedError: checking a subtree whose required nodes are not fully loaded."}}function Oe(e,o,r,t){return H(o.concat(e),r,t,!1)}function _e(e,o){const r=new Set;return e.forEach(t=>{const l=o.treeNodeMap.get(t);if(l!==void 0){let c=l.parent;for(;c!==null&&!(c.disabled||r.has(c.key));)r.add(c.key),c=c.parent}}),r}function je(e,o,r,t){const l=H(o,r,t,!1),c=H(e,r,t,!0),n=_e(e,r),a=[];return l.forEach(i=>{(c.has(i)||n.has(i))&&a.push(i)}),a.forEach(i=>l.delete(i)),l}function O(e,o){const{checkedKeys:r,keysToCheck:t,keysToUncheck:l,indeterminateKeys:c,cascade:n,leafOnly:a,checkStrategy:i,allowNotLoaded:h}=e;if(!n)return t!==void 0?{checkedKeys:Be(r,t),indeterminateKeys:Array.from(c)}:l!==void 0?{checkedKeys:Me(r,l),indeterminateKeys:Array.from(c)}:{checkedKeys:Array.from(r),indeterminateKeys:Array.from(c)};const{levelTreeNodeMap:g}=o;let u;l!==void 0?u=je(l,r,o,h):t!==void 0?u=Oe(t,r,o,h):u=H(r,o,h,!1);const p=i==="parent",b=i==="child"||a,f=u,m=new Set,x=Math.max.apply(null,Array.from(g.keys()));for(let k=x;k>=0;k-=1){const N=k===0,E=g.get(k);for(const s of E){if(s.isLeaf)continue;const{key:d,shallowLoaded:y}=s;if(b&&y&&s.children.forEach(v=>{!v.disabled&&!v.isLeaf&&v.shallowLoaded&&f.has(v.key)&&f.delete(v.key)}),s.disabled||!y)continue;let P=!0,S=!1,I=!0;for(const v of s.children){const z=v.key;if(!v.disabled){if(I&&(I=!1),f.has(z))S=!0;else if(m.has(z)){S=!0,P=!1;break}else if(P=!1,S)break}}P&&!I?(p&&s.children.forEach(v=>{!v.disabled&&f.has(v.key)&&f.delete(v.key)}),f.add(d)):S&&m.add(d),N&&b&&f.has(d)&&f.delete(d)}}return{checkedKeys:Array.from(f),indeterminateKeys:Array.from(m)}}function H(e,o,r,t){const{treeNodeMap:l,getChildren:c}=o,n=new Set,a=new Set(e);return e.forEach(i=>{const h=l.get(i);h!==void 0&&J(h,g=>{if(g.disabled)return _.STOP;const{key:u}=g;if(!n.has(u)&&(n.add(u),a.add(u),He(g.rawNode,c))){if(t)return _.STOP;if(!r)throw new Ge}})}),a}function Fe(e,{includeGroup:o=!1,includeSelf:r=!0},t){var l;const c=t.treeNodeMap;let n=e==null?null:(l=c.get(e))!==null&&l!==void 0?l:null;const a={keyPath:[],treeNodePath:[],treeNode:n};if(n!=null&&n.ignored)return a.treeNode=null,a;for(;n;)!n.ignored&&(o||!n.isGroup)&&a.treeNodePath.push(n),n=n.parent;return a.treeNodePath.reverse(),r||a.treeNodePath.pop(),a.keyPath=a.treeNodePath.map(i=>i.key),a}function We(e){if(e.length===0)return null;const o=e[0];return o.isGroup||o.ignored||o.disabled?o.getNext():o}function De(e,o){const r=e.siblings,t=r.length,{index:l}=e;return o?r[(l+1)%t]:l===r.length-1?null:r[l+1]}function Q(e,o,{loop:r=!1,includeDisabled:t=!1}={}){const l=o==="prev"?Ue:De,c={reverse:o==="prev"};let n=!1,a=null;function i(h){if(h!==null){if(h===e){if(!n)n=!0;else if(!e.disabled&&!e.isGroup){a=e;return}}else if((!h.disabled||t)&&!h.ignored&&!h.isGroup){a=h;return}if(h.isGroup){const g=j(h,c);g!==null?a=g:i(l(h,r))}else{const g=l(h,!1);if(g!==null)i(g);else{const u=Ve(h);u!=null&&u.isGroup?i(l(u,r)):r&&i(l(h,!0))}}}}return i(e),a}function Ue(e,o){const r=e.siblings,t=r.length,{index:l}=e;return o?r[(l-1+t)%t]:l===0?null:r[l-1]}function Ve(e){return e.parent}function j(e,o={}){const{reverse:r=!1}=o,{children:t}=e;if(t){const{length:l}=t,c=r?l-1:0,n=r?-1:l,a=r?-1:1;for(let i=c;i!==n;i+=a){const h=t[i];if(!h.disabled&&!h.ignored)if(h.isGroup){const g=j(h,o);if(g!==null)return g}else return h}}return null}const qe={getChild(){return this.ignored?null:j(this)},getParent(){const{parent:e}=this;return e!=null&&e.isGroup?e.getParent():e},getNext(e={}){return Q(this,"next",e)},getPrev(e={}){return Q(this,"prev",e)}};function Qe(e,o){const r=o?new Set(o):void 0,t=[];function l(c){c.forEach(n=>{t.push(n),!(n.isLeaf||!n.children||n.ignored)&&(n.isGroup||r===void 0||r.has(n.key))&&l(n.children)})}return l(e),t}function Ze(e,o){const r=e.key;for(;o;){if(o.key===r)return!0;o=o.parent}return!1}function X(e,o,r,t,l,c=null,n=0){const a=[];return e.forEach((i,h)=>{var g;const u=Object.create(t);if(u.rawNode=i,u.siblings=a,u.level=n,u.index=h,u.isFirstChild=h===0,u.isLastChild=h+1===e.length,u.parent=c,!u.ignored){const p=l(i);Array.isArray(p)&&(u.children=X(p,o,r,t,l,u,n+1))}a.push(u),o.set(u.key,u),r.has(n)||r.set(n,[]),(g=r.get(n))===null||g===void 0||g.push(u)}),a}function cr(e,o={}){var r;const t=new Map,l=new Map,{getDisabled:c=$e,getIgnored:n=Le,getIsGroup:a=Re,getKey:i=Ae}=o,h=(r=o.getChildren)!==null&&r!==void 0?r:ze,g=o.ignoreEmptyChildren?s=>{const d=h(s);return Array.isArray(d)?d.length?d:null:d}:h,u=Object.assign({get key(){return i(this.rawNode)},get disabled(){return c(this.rawNode)},get isGroup(){return a(this.rawNode)},get isLeaf(){return Ne(this.rawNode,g)},get shallowLoaded(){return Te(this.rawNode,g)},get ignored(){return n(this.rawNode)},contains(s){return Ze(this,s)}},qe),p=X(e,t,l,u,g);function b(s){if(s==null)return null;const d=t.get(s);return d&&!d.isGroup&&!d.ignored?d:null}function f(s){if(s==null)return null;const d=t.get(s);return d&&!d.ignored?d:null}function m(s,d){const y=f(s);return y?y.getPrev(d):null}function x(s,d){const y=f(s);return y?y.getNext(d):null}function k(s){const d=f(s);return d?d.getParent():null}function N(s){const d=f(s);return d?d.getChild():null}const E={treeNodes:p,treeNodeMap:t,levelTreeNodeMap:l,maxLevel:Math.max(...l.keys()),getChildren:g,getFlattenedNodes(s){return Qe(p,s)},getNode:b,getPrev:m,getNext:x,getParent:k,getChild:N,getFirstAvailableNode(){return We(p)},getPath(s,d={}){return Fe(s,d,E)},getCheckedKeys(s,d={}){const{cascade:y=!0,leafOnly:P=!1,checkStrategy:S="all",allowNotLoaded:I=!1}=d;return O({checkedKeys:R(s),indeterminateKeys:G(s),cascade:y,leafOnly:P,checkStrategy:S,allowNotLoaded:I},E)},check(s,d,y={}){const{cascade:P=!0,leafOnly:S=!1,checkStrategy:I="all",allowNotLoaded:v=!1}=y;return O({checkedKeys:R(d),indeterminateKeys:G(d),keysToCheck:s==null?[]:q(s),cascade:P,leafOnly:S,checkStrategy:I,allowNotLoaded:v},E)},uncheck(s,d,y={}){const{cascade:P=!0,leafOnly:S=!1,checkStrategy:I="all",allowNotLoaded:v=!1}=y;return O({checkedKeys:R(d),indeterminateKeys:G(d),keysToUncheck:s==null?[]:q(s),cascade:P,leafOnly:S,checkStrategy:I,allowNotLoaded:v},E)},getNonLeafKeys(s={}){return Ke(p,s)}};return E}const Je=e=>{const{textColor2:o,primaryColorHover:r,primaryColorPressed:t,primaryColor:l,infoColor:c,successColor:n,warningColor:a,errorColor:i,baseColor:h,borderColor:g,opacityDisabled:u,tagColor:p,closeIconColor:b,closeIconColorHover:f,closeIconColorPressed:m,borderRadiusSmall:x,fontSizeMini:k,fontSizeTiny:N,fontSizeSmall:E,fontSizeMedium:s,heightMini:d,heightTiny:y,heightSmall:P,heightMedium:S,closeColorHover:I,closeColorPressed:v,buttonColor2Hover:z,buttonColor2Pressed:B,fontWeightStrong:M}=e;return Object.assign(Object.assign({},Ce),{closeBorderRadius:x,heightTiny:d,heightSmall:y,heightMedium:P,heightLarge:S,borderRadius:x,opacityDisabled:u,fontSizeTiny:k,fontSizeSmall:N,fontSizeMedium:E,fontSizeLarge:s,fontWeightStrong:M,textColorCheckable:o,textColorHoverCheckable:o,textColorPressedCheckable:o,textColorChecked:h,colorCheckable:"#0000",colorHoverCheckable:z,colorPressedCheckable:B,colorChecked:l,colorCheckedHover:r,colorCheckedPressed:t,border:`1px solid ${g}`,textColor:o,color:p,colorBordered:"rgb(250, 250, 252)",closeIconColor:b,closeIconColorHover:f,closeIconColorPressed:m,closeColorHover:I,closeColorPressed:v,borderPrimary:`1px solid ${C(l,{alpha:.3})}`,textColorPrimary:l,colorPrimary:C(l,{alpha:.12}),colorBorderedPrimary:C(l,{alpha:.1}),closeIconColorPrimary:l,closeIconColorHoverPrimary:l,closeIconColorPressedPrimary:l,closeColorHoverPrimary:C(l,{alpha:.12}),closeColorPressedPrimary:C(l,{alpha:.18}),borderInfo:`1px solid ${C(c,{alpha:.3})}`,textColorInfo:c,colorInfo:C(c,{alpha:.12}),colorBorderedInfo:C(c,{alpha:.1}),closeIconColorInfo:c,closeIconColorHoverInfo:c,closeIconColorPressedInfo:c,closeColorHoverInfo:C(c,{alpha:.12}),closeColorPressedInfo:C(c,{alpha:.18}),borderSuccess:`1px solid ${C(n,{alpha:.3})}`,textColorSuccess:n,colorSuccess:C(n,{alpha:.12}),colorBorderedSuccess:C(n,{alpha:.1}),closeIconColorSuccess:n,closeIconColorHoverSuccess:n,closeIconColorPressedSuccess:n,closeColorHoverSuccess:C(n,{alpha:.12}),closeColorPressedSuccess:C(n,{alpha:.18}),borderWarning:`1px solid ${C(a,{alpha:.35})}`,textColorWarning:a,colorWarning:C(a,{alpha:.15}),colorBorderedWarning:C(a,{alpha:.12}),closeIconColorWarning:a,closeIconColorHoverWarning:a,closeIconColorPressedWarning:a,closeColorHoverWarning:C(a,{alpha:.12}),closeColorPressedWarning:C(a,{alpha:.18}),borderError:`1px solid ${C(i,{alpha:.23})}`,textColorError:i,colorError:C(i,{alpha:.1}),colorBorderedError:C(i,{alpha:.08}),closeIconColorError:i,closeIconColorHoverError:i,closeIconColorPressedError:i,closeColorHoverError:C(i,{alpha:.12}),closeColorPressedError:C(i,{alpha:.18})})},Xe={name:"Tag",common:be,self:Je},Ye=Xe,er={color:Object,type:{type:String,default:"default"},round:Boolean,size:{type:String,default:"medium"},closable:Boolean,disabled:{type:Boolean,default:void 0}},rr=ve("tag",`
 white-space: nowrap;
 position: relative;
 box-sizing: border-box;
 cursor: default;
 display: inline-flex;
 align-items: center;
 flex-wrap: nowrap;
 padding: var(--n-padding);
 border-radius: var(--n-border-radius);
 color: var(--n-text-color);
 background-color: var(--n-color);
 transition: 
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 opacity .3s var(--n-bezier);
 line-height: 1;
 height: var(--n-height);
 font-size: var(--n-font-size);
`,[K("strong",`
 font-weight: var(--n-font-weight-strong);
 `),A("border",`
 pointer-events: none;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border-radius: inherit;
 border: var(--n-border);
 transition: border-color .3s var(--n-bezier);
 `),A("icon",`
 display: flex;
 margin: 0 4px 0 0;
 color: var(--n-text-color);
 transition: color .3s var(--n-bezier);
 font-size: var(--n-avatar-size-override);
 `),A("avatar",`
 display: flex;
 margin: 0 6px 0 0;
 `),A("close",`
 margin: var(--n-close-margin);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 cursor: pointer;
 `),K("round",`
 padding: 0 calc(var(--n-height) / 3);
 border-radius: calc(var(--n-height) / 2);
 `,[A("icon",`
 margin: 0 4px 0 calc((var(--n-height) - 8px) / -2);
 `),A("avatar",`
 margin: 0 6px 0 calc((var(--n-height) - 8px) / -2);
 `),K("closable",`
 padding: 0 calc(var(--n-height) / 4) 0 calc(var(--n-height) / 3);
 `)]),K("icon, avatar",[K("round",`
 padding: 0 calc(var(--n-height) / 3) 0 calc(var(--n-height) / 2);
 `)]),K("disabled",`
 cursor: not-allowed !important;
 opacity: var(--n-opacity-disabled);
 `),K("checkable",`
 cursor: pointer;
 box-shadow: none;
 color: var(--n-text-color-checkable);
 background-color: var(--n-color-checkable);
 `,[T("disabled",[$("&:hover","background-color: var(--n-color-hover-checkable);",[T("checked","color: var(--n-text-color-hover-checkable);")]),$("&:active","background-color: var(--n-color-pressed-checkable);",[T("checked","color: var(--n-text-color-pressed-checkable);")])]),K("checked",`
 color: var(--n-text-color-checked);
 background-color: var(--n-color-checked);
 `,[T("disabled",[$("&:hover","background-color: var(--n-color-checked-hover);"),$("&:active","background-color: var(--n-color-checked-pressed);")])])])]),or=Object.assign(Object.assign(Object.assign({},Z.props),er),{bordered:{type:Boolean,default:void 0},checked:Boolean,checkable:Boolean,strong:Boolean,onClose:[Array,Function],onMouseenter:Function,onMouseleave:Function,"onUpdate:checked":Function,onUpdateChecked:Function,internalCloseFocusable:{type:Boolean,default:!0},internalStopClickPropagation:Boolean,onCheckedChange:{type:Function,validator:()=>!0,default:void 0}}),nr=pe("n-tag"),ir=ye({name:"Tag",props:or,setup(e){const o=ke(null),{mergedBorderedRef:r,mergedClsPrefixRef:t,inlineThemeDisabled:l,mergedRtlRef:c}=me(e),n=Z("Tag","-tag",rr,Ye,e,t);xe(nr,{roundRef:Se(e,"round")});function a(b){if(!e.disabled&&e.checkable){const{checked:f,onCheckedChange:m,onUpdateChecked:x,"onUpdate:checked":k}=e;x&&x(!f),k&&k(!f),m&&m(!f)}}function i(b){if(e.internalStopClickPropagation&&b.stopPropagation(),!e.disabled){const{onClose:f}=e;f&&Ee(f,b)}}const h={setTextContent(b){const{value:f}=o;f&&(f.textContent=b)}},g=Pe("Tag",c,t),u=D(()=>{const{type:b,size:f,color:{color:m,textColor:x}={}}=e,{common:{cubicBezierEaseInOut:k},self:{padding:N,closeMargin:E,closeMarginRtl:s,borderRadius:d,opacityDisabled:y,textColorCheckable:P,textColorHoverCheckable:S,textColorPressedCheckable:I,textColorChecked:v,colorCheckable:z,colorHoverCheckable:B,colorPressedCheckable:M,colorChecked:Y,colorCheckedHover:ee,colorCheckedPressed:re,closeBorderRadius:oe,fontWeightStrong:ne,[w("colorBordered",b)]:te,[w("closeSize",f)]:le,[w("closeIconSize",f)]:se,[w("fontSize",f)]:ae,[w("height",f)]:F,[w("color",b)]:ce,[w("textColor",b)]:ie,[w("border",b)]:de,[w("closeIconColor",b)]:W,[w("closeIconColorHover",b)]:ue,[w("closeIconColorPressed",b)]:he,[w("closeColorHover",b)]:fe,[w("closeColorPressed",b)]:ge}}=n.value;return{"--n-font-weight-strong":ne,"--n-avatar-size-override":`calc(${F} - 8px)`,"--n-bezier":k,"--n-border-radius":d,"--n-border":de,"--n-close-icon-size":se,"--n-close-color-pressed":ge,"--n-close-color-hover":fe,"--n-close-border-radius":oe,"--n-close-icon-color":W,"--n-close-icon-color-hover":ue,"--n-close-icon-color-pressed":he,"--n-close-icon-color-disabled":W,"--n-close-margin":E,"--n-close-margin-rtl":s,"--n-close-size":le,"--n-color":m||(r.value?te:ce),"--n-color-checkable":z,"--n-color-checked":Y,"--n-color-checked-hover":ee,"--n-color-checked-pressed":re,"--n-color-hover-checkable":B,"--n-color-pressed-checkable":M,"--n-font-size":ae,"--n-height":F,"--n-opacity-disabled":y,"--n-padding":N,"--n-text-color":x||ie,"--n-text-color-checkable":P,"--n-text-color-checked":v,"--n-text-color-hover-checkable":S,"--n-text-color-pressed-checkable":I}}),p=l?Ie("tag",D(()=>{let b="";const{type:f,size:m,color:{color:x,textColor:k}={}}=e;return b+=f[0],b+=m[0],x&&(b+=`a${U(x)}`),k&&(b+=`b${U(k)}`),r.value&&(b+="c"),b}),u,e):void 0;return Object.assign(Object.assign({},h),{rtlEnabled:g,mergedClsPrefix:t,contentRef:o,mergedBordered:r,handleClick:a,handleCloseClick:i,cssVars:l?void 0:u,themeClass:p==null?void 0:p.themeClass,onRender:p==null?void 0:p.onRender})},render(){var e,o;const{mergedClsPrefix:r,rtlEnabled:t,closable:l,color:{borderColor:c}={},round:n,onRender:a,$slots:i}=this;a==null||a();const h=V(i.avatar,u=>u&&L("div",{class:`${r}-tag__avatar`},u)),g=V(i.icon,u=>u&&L("div",{class:`${r}-tag__icon`},u));return L("div",{class:[`${r}-tag`,this.themeClass,{[`${r}-tag--rtl`]:t,[`${r}-tag--strong`]:this.strong,[`${r}-tag--disabled`]:this.disabled,[`${r}-tag--checkable`]:this.checkable,[`${r}-tag--checked`]:this.checkable&&this.checked,[`${r}-tag--round`]:n,[`${r}-tag--avatar`]:h,[`${r}-tag--icon`]:g,[`${r}-tag--closable`]:l}],style:this.cssVars,onClick:this.handleClick,onMouseenter:this.onMouseenter,onMouseleave:this.onMouseleave},g||h,L("span",{class:`${r}-tag__content`,ref:"contentRef"},(o=(e=this.$slots).default)===null||o===void 0?void 0:o.call(e)),!this.checkable&&l?L(we,{clsPrefix:r,class:`${r}-tag__close`,disabled:this.disabled,onClick:this.handleCloseClick,focusable:this.internalCloseFocusable,round:n,absolute:!0}):null,!this.checkable&&this.mergedBordered?L("div",{class:`${r}-tag__border`,style:{borderColor:c}}):null)}});export{ir as N,ar as a,cr as c,sr as g,lr as h,nr as t};
